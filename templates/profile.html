{% extends 'layout.html' %}
{% block title %}
  Profile
{% endblock %}

{% block classbody %}
  class="index"
{% endblock %}

{% block main %}
  <div class="container">
    <div class="card my-3 p-3 text-center">
      <h1>Profile</h1>
    </div>
    <div class="card my-3 p-3 text-center">
      {% with message = get_flashed_messages()  %}
        {% if message[0] == 0 %}
            <div class="alert alert-danger" role="alert">
                Profile not updated
            </div>
            {% endif %}
            {% if message[0] ==1 %}
            <div class="alert alert-success" role="alert">
                Profile updated
            </div>
        {% endif %}
      {% endwith %}
      <form action="/editprofile" method="post">
        <div class="row g-3 align-items-center">
          <div class="col-2">
            <label for="username" class="col-form-label">Username</label>
          </div>
          <div class="col-auto">
            <input type="text" id="username" class="form-control" value="{{ user.username }}" disabled />
          </div>
        </div>
        <br />
        <div class="row g-3 align-items-center">
          <div class="col-2">
            <label for="email" class="col-form-label">email</label>
          </div>
          <div class="col-auto">
            <input type="text" id="email" class="form-control" value="{{ user.email }}" name="email" required />
          </div>
        </div>
        <br />
        <div class="row g-3 align-items-center">
          <div class="col-2">
            <label for="shopname" class="col-form-label">shopname</label>
          </div>
          <div class="col-auto">
            <input type="text" id="shopname" class="form-control" value="{{ user.shopname }}" name="shopname" required />
          </div>
        </div>
        <br />
        <div class="row g-3 align-items-center">
          <div class="col-2">
            <label for="password" class="col-form-label">password</label>
          </div>
          <div class="col-auto">
            <input type="password" id="password" class="form-control" name="password1" required />
          </div>
        </div>
        <br />
        <div class="row g-3 align-items-center">
          <div class="col-2">
            <label for="password2" class="col-form-label">password2</label>
          </div>
          <div class="col-auto">
            <input type="password" id="password2" class="form-control" name="password2" required />
          </div>
        </div>
        <br />
        <button type="submit" class="btn btn-success">Edit Profile</button>
      </form>
    </div>
  </div>
{% endblock %}
